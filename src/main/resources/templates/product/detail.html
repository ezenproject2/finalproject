<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout/layout}">

<head>
  <meta charset="UTF-8">
  <title>EzenBooks</title>
  <link rel="stylesheet" type="text/css" th:href="@{/css/productdetail.css}" />
</head>

<main layout:fragment="main">
  <div class="inner">
    <section class="breadcrumb_wrap">
      <ul class="breadcrumb_list">
        <li class="breadcrumb_item">
          <a href="/"><i class="ic ic_home"></i></a>
        </li>
        <li class="breadcrumb_item">
          <a th:href="@{/product/list(pageNo=1, primaryCtg=${productVO.primaryCtg})}" class="primary_ctg">[[${productVO.primaryCtg}]]</a> <i class="ic ic_carousel_up_white"></i>
          <div class="sub_depth">
            <ul class="primary_list">
              <li class="primary_option" data-category="소설"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='소설')}">소설</a></li>
              <li class="primary_option" data-category="시/에세이"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='시/에세이')}">시/에세이</a></li>
              <li class="primary_option" data-category="경제/경영"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='경제/경영')}">경제/경영</a></li>
              <li class="primary_option" data-category="자기계발"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='자기계발')}">자기계발</a></li>
              <li class="primary_option" data-category="인문"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='인문')}">인문</a></li>
              <li class="primary_option" data-category="역사"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='역사')}">역사</a></li>
              <li class="primary_option" data-category="사회/정치"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='사회/정치')}">사회/정치</a></li>
              <li class="primary_option" data-category="자연/과학"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='자연/과학')}">자연/과학</a></li>
              <li class="primary_option" data-category="예술/대중문화"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='예술/대중문화')}">예술/대중문화</a></li>
              <li class="primary_option" data-category="종교"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='종교')}">종교</a></li>
              <li class="primary_option" data-category="유아/어린이"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='유아/어린이')}">유아/어린이</a></li>
              <li class="primary_option" data-category="가정/요리"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='가정/요리')}">가정/요리</a></li>
              <li class="primary_option" data-category="여행"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='여행')}">여행</a></li>
              <li class="primary_option" data-category="언어"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='언어')}">언어</a></li>
              <li class="primary_option" data-category="컴퓨터/IT"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='컴퓨터/IT')}">컴퓨터/IT</a></li>
              <li class="primary_option" data-category="청소년"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='청소년')}">청소년</a></li>
              <li class="primary_option" data-category="수험서/자격증"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='수험서/자격증')}">수험서/자격증</a></li>
              <li class="primary_option" data-category="만화"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='만화')}">만화</a></li>
              <li class="primary_option" data-category="잡지"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='잡지')}">잡지</a></li>
              <li class="primary_option" data-category="건강/취미"><a
                      th:href="@{/product/list(pageNo=1, primaryCtg='건강/취미')}">건강/취미</a></li>
            </ul>
          </div>
        </li>
        <li class="breadcrumb_item">
          <a th:href="@{/product/list(pageNo=1, secondaryCtg=${productVO.secondaryCtg})}" class="secondary_ctg">[[${productVO.secondaryCtg}]]</a> <i class="ic ic_carousel_up_white"></i>
          <div class="sub_depth">
            <ul class="secondary_list">
              <!-- 동적으로 추가됨(주석 삭제 가능) -->
            </ul>
          </div>
        </li>
      </ul>
    </section>

    <section class="contents">
      <div class="book_detail_header">
        <div class="book_detail_left">
          <div class="book_thum_wrap">
            <div class="book-items">
              <div class="book-image">
                <img th:src="${productVO.image}" class="thumbnail" alt="image"/>
                <div class="effect"></div>
                <div class="light"></div>
              </div>
            </div>
          </div>
          <div class="full_view_area">
            <button class="btn full_view_btn">전체보기</button>
          </div>
        </div>
        <div class="book_detail_right">
          <p class="book_tag_wrap">
            <span class="book_tag" id="tag1">MD 추천</span>
            <span class="book_tag" id="tag2" th:if="${productVO.realPrice >= 20000}">무료배송</span>
          </p>

          <div class="book_detail_wrap">
            <div class="book_detail_general">
              <div class="book_detail_content">
                <h2 class="book_title">[[${productVO.title}]]</h2>
                <p class="book_write">
                  <span class="book_writer">[[${productVO.author}]]</span>
                  <span class="book_publisher">[[${productVO.publisher}]]</span>
                </p>
                <p class="book_publication_date" id="book_publication_date">[[${productVO.pubdate}]]</p>
              </div>

              <div class="book_info">
                <span class="discount">[[${productVO.discountRate}]]%</span>
                <span class="book_price_wrap">
                  <span class="book_discount_price">[[${#numbers.formatInteger(productVO.realPrice, 3, 'COMMA')}]]<span class="won">원</span></span>
                </span>
                <span class="book_original_price">[[${#numbers.formatInteger(productVO.discount, 3, 'COMMA')}]]원</span>
              </div>

              <div class="book_score">
                <p class="book_rating_wrap">
                  <i class="ic ic_star" data-score="[[${productVO.reviewAvg}]]"></i>
                  <!--
                      i 태그 클래스명 예시 : <i th:class="'ic ic_star star-' + ${book.score.toString().replace('.', '_')}"></i>
                      이런 식으로 별점을 문자열로 변환, 소수점을 언더바로 바꿔서 클래스명에 넣어야 이미지가 바뀜!
                  -->
                  <span class="book_rating">[[${productVO.reviewAvg}]] <span class="book_review_count">(리뷰
                          [[${productVO.reviewCnt}]]개)</span></span>
                </p>
              </div>
            </div>

            <div class="book_detail_benefits">
              <div class="book_detail_title"><span>혜택안내</span></div>
              <div class="book_benefits_list">
                <div class="book_benefits_item">
                  <div class="book_benefits_title"><span>적립금</span></div>
                  <div class="book_benefits_content">
                    <span class="book_point">750원 <span> (최대 6% 적립)</span></span>
                  </div>
                </div>
                <div class="book_benefits_item">
                  <div class="book_benefits_title"><span>결제혜택</span></div>
                  <div class="book_benefits_content">
                                                <span class="book_point">
                                                    무이자 할부 <i class="ic ic_carousel_down_white"></i>
                                                    <div class="book_point_modal">
                                                        <p><span>신용카드 무이자 할부 안내</span><i class="ic ic_delete"></i></p>
                                                        <p class="card_benefit"><i class="ic card1 ic_bc"></i> <span>5만원 이상 2-6개월 무이자 (~25/01/31 까지)</span></p>
                                                        <p class="card_benefit"><i class="ic card2 ic_hc"></i> <span>1만원 이상 2-3개월 무이자 (~25/01/31 까지)</span></p>
                                                        <p class="card_benefit"><i class="ic card ic_nh"></i> <span>5만원 이상 2-6개월 무이자 (~25/01/31 까지)</span></p>
                                                        <p class="card_benefit"><i class="ic card1 ic_wr"></i> <span>5만원 이상 2-6개월 무이자 (~25/01/31 까지)</span></p>
                                                        <p class="card_benefit"><i class="ic card1 ic_hn"></i> <span>5만원 이상 2-3개월 무이자 (~25/01/31 까지)</span></p>
                                                        <p class="card_benefit"><i class="ic card2 ic_rt"></i> <span>5만원 이상 2-3개월 무이자 (~25/01/31 까지)</span></p>
                                                        <p class="card_benefit"><i class="ic card2 ic_kb"></i> <span>5만원 이상 2-3개월 무이자 (~25/01/31 까지)</span></p>
                                                        <p class="card_benefit"><i class="ic card2 ic_ss"></i> <span>5만원 이상 2-3개월 무이자 (~25/01/31 까지)</span></p>
                                                        <p class="card_benefit"><i class="ic card ic_sh"></i> <span>5만원 이상 2-5개월 무이자 (~25/01/31 까지)</span></p>
                                                    </div>
                                                </span>
                    <span class="book_point">
                                                    결제사 혜택 <i class="ic ic_carousel_down_white"></i>

                                                    <div class="book_point_modal">
                                                        <p><span>결제사 혜택 안내</span><i class="ic ic_delete"></i></p>
                                                        <p class="card_benefit"><i class="ic ic_pay ic_toss"></i> <span>1월 토스페이 결제 혜택</span></p>
                                                        <p class="card_benefit"><i class="ic ic_pay ic_kpay"></i> <span>1월 카카오페이 결제 혜택</span></p>
                                                        <p class="card_benefit"><i class="ic ic_pay ic_npay"></i> <span>1월 네이버페이 결제 혜택</span></p>
                                                    </div>
                                                </span>
                    <a href=""><span class="book_point">쿠폰 <i
                            class="ic ic_carousel_right_white"></i></span></a>
                  </div>
                </div>
              </div>
            </div>

            <div class="book_detail_delivery">
              <div class="book_detail_title"><span>배송 안내</span></div>
              <div class="book_delivery_list">
                <div class="book_delivery_title"><span>배송비<i class="ic ic_question"></i></span></div>
                <div class="book_delivery_content"><span
                        class="delivery_free">무료 (해외배송의 경우 지역에 따라 상이)</span></div>
              </div>
              <button class="btn store_btn" id="openModal"><span>매장 재고 · 위치</span></button>
            </div>
          </div>
        </div>
      </div>

      <div class="book_detail_body">
        <div class="book">
          <div id="pages" class="pages">
            <div class="page">
              <div class="page-inner"><p>1 페이지~</p></div>
            </div>

            <div class="page">
              <div class="page-inner" th:if="${bookInfo.bookIntroContent != null and bookInfo.bookIntroContent != ''}">
                <p class="book_detail_title" th:text="${bookInfo.bookIntroTitle}"></p> <!-- 책 소개 -->
                <p class="book_detail_content" th:utext="${bookInfo.bookIntroContent}"> [[${productVO.description}]] </p>
              </div>
              <div class="page-inner" th:if="${bookInfo.tableOfContentsContent != null and bookInfo.tableOfContentsContent != ''}">
                <p class="book_detail_title" th:text="${bookInfo.tableOfContentsTitle}"></p> <!-- 상세 소개 -->
                <p class="book_detail_content" th:utext="${bookInfo.tableOfContentsContent}"></p>
              </div>
            </div>

            <div class="page" style="max-height: 100%">
              <div class="page-inner" th:if="${bookInfo.publisherReviewContent != null and bookInfo.publisherReviewContent != ''}" style="max-height: 100%">
                <p class="book_detail_title" th:text="${bookInfo.publisherReviewTitle}"></p> <!-- 출판사 서평 -->
                <p class="book_detail_content" th:utext="${bookInfo.publisherReviewContent}" style="max-height: 66vh;"></p>
              </div>
            </div>
            <div class="page">
              <div class="page-inner">
                <p class="book_detail_title">4 페이지~</p>
                <p class="book_detail_content">4 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~</p>

              </div>
              <div class="page-inner">
                <p class="book_detail_title">4-2 페이지~</p>
                <p class="book_detail_content">4 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2
                  페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~2 페이지~</p>
              </div>
            </div>
            <div class="page">
              <div class="page-inner" style="border: none;">
                <p class="book_detail_title" style="margin: 5px;">이 달의 이벤트</p>
                <div class="stickers">
                  <a href="">
                    <div class="sticker sticker1"></div>
                    <span>만 원 이상 무료배송!</span> </a>
                  <a href="">
                    <div class="sticker sticker2"></div>
                    <span>이 달의 책</span></a>
                </div>
                <div class="stickers">
                  <a href="">
                    <div class="sticker sticker3"></div>
                    <span>신년 맞이 쿠폰팩</span></a>
                  <a href="">
                    <div class="sticker sticker4"></div>
                    <span>출석 췤!</span></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="book_detail_review">
        <h3 class="book_detail_page_title">책 리뷰(3)</h3> <!-- 해당 책의 전체 리뷰 수 괄호 안 -->

        <div class="book_rate_score_box">
          <div class="book_rate_score_left">
            <p>구매자 총점</p>
            <i class="ic ic_star star-4_5"></i>
            <span><strong>4.5</strong> / 5</span>
          </div>

          <div class="book_rate_score_right">
            <div class="rate">
              <div class="rate_1">
                <i class="ic ic_star star-5"></i>
                <!-- 별점 5.0 남긴 사람의 총 인원 수-->
                <span class="rating-users-count">(23)</span>
              </div>
              <div class="rate_2">
                <div class="gauge_bar">
                  <div class="gauge"></div>
                </div>
              </div>
              <div class="rate_3">
                <!-- 리뷰 총인원(100%) / 별점 5.0 남긴 사람-->
                <span class="score_number" data-value="73"> 73%</span>
              </div>
            </div>

            <div class="rate">
              <div class="rate_1">
                <i class="ic ic_star star-4"></i>
                <!-- 별점 4점대(4.5~4.0) 남긴 사람의 총 인원 수-->
                <span class="rating-users-count">(1)</span>
              </div>
              <div class="rate_2">
                <div class="gauge_bar">
                  <div class="gauge"></div>
                </div>
              </div>
              <div class="rate_3">
                <!-- 리뷰 총인원(100%) / 별점 4점대(4.5~4.0) 남긴 사람-->
                <span class="score_number" data-value="7"> 7%</span>
              </div>
            </div>

            <div class="rate">
              <div class="rate_1">
                <i class="ic ic_star star-3"></i>
                <!-- 별점 3점대(3.5~3.0) 남긴 사람의 총 인원 수-->
                <span class="rating-users-count">(1)</span>
              </div>
              <div class="rate_2">
                <div class="gauge_bar">
                  <div class="gauge"></div>
                </div>
              </div>
              <div class="rate_3">
                <!-- 리뷰 총인원(100%) / 별점 3점대(3.5~3.0) 남긴 사람-->
                <span class="score_number" data-value="7"> 7%</span>
              </div>
            </div>

            <div class="rate">
              <div class="rate_1">
                <i class="ic ic_star star-2"></i>
                <!-- 별점 2점대(2.5~2.0) 남긴 사람의 총 인원 수-->
                <span class="rating-users-count">(1)</span>
              </div>
              <div class="rate_2">
                <div class="gauge_bar">
                  <div class="gauge"></div>
                </div>
              </div>
              <div class="rate_3">
                <!-- 리뷰 총인원(100%) / 별점 2점대(2.5~2.0) 남긴 사람-->
                <span class="score_number" data-value="7"> 7%</span>
              </div>
            </div>

            <div class="rate">
              <div class="rate_1">
                <i class="ic ic_star star-1"></i>
                <!-- 별점 1점대(1.5~0.0) 남긴 사람의 총 인원 수-->
                <span class="rating-users-count">(0)</span>
              </div>
              <div class="rate_2">
                <div class="gauge_bar">
                  <div class="gauge"></div>
                </div>
              </div>
              <div class="rate_3">
                <!-- 리뷰 총인원(100%) / 별점 1점대(1.5~0.0) 남긴 사람-->
                <span class="score_number" data-value="0"> 0%</span>
              </div>
            </div>
          </div>
        </div>

        <div class="book_detail_review_none"> <!-- 책의 리뷰가 없을 때 style="display: block;" -->
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 16 16">
            <circle cx="8" cy="8" r="8" fill="#c6c6c6"></circle>
            <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z" fill="white"></path>
          </svg>
          <p class="title">아직 작성된 리뷰가 없어요.</p>
          <p class="sub">이 책의 첫 리뷰어가 되어보세요!</p>
          <a href="">계속 쇼핑하기</a> <!-- 메인 페이지로 이동 -->
        </div>

        <div class="book_review_box grid" style="display: none;">
          <div class="review_item"> <!-- 리뷰 반복 -->
            <div class="review_box">
              <i class="ic ic_delete"></i>
              <div class="review_box_header">
                <div class="review_member">
                  <div class="member_profile_photo"></div>
                  <span class="member_nike_name">닉네임0516</span>
                </div>
                <div class="review_info">
                  <i class="ic ic_star star-1_5"></i>
                  <span class="review_date">2024.12.27</span>
                </div>
              </div>
              <div class="review_content">
                <img src="https://i.pinimg.com/736x/55/a5/d0/55a5d027addb0c84cb2df4b6a77311b6.jpg" alt="">
                <p>Sed dictum non orci ut dignissim. Semper ut risus.
                  Cras placerat metus et dolor sollicitudin, vel tempor libero tristique.
                  Duis feugiat lectus et erat efficitur feugiat. Integer sed elit euismod,
                  vehicula nunc vel, tincidunt sapien. Aliquam erat volutpat. Morbi facilisis
                  vehicula lorem, a congue nunc mollis at.
                </p>
              </div>
              <div class="review_like">
                <strong class="like_count">1</strong>
                <div class="panel">
                  <a href="javascript:void(0);" class="like1">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 176.104 176.104">
                      <path d="M150.383 18.301a49.633 49.633 0 0 0-24.033-6.187c-15.394 0-29.18 7.015-38.283 18.015-9.146-11-22.919-18.015-38.334-18.015-8.704 0-16.867 2.259-24.013 6.187C10.388 26.792 0 43.117 0 61.878 0 67.249.874 72.4 2.457 77.219c8.537 38.374 85.61 86.771 85.61 86.771s77.022-48.396 85.571-86.771a49.09 49.09 0 0 0 2.466-15.341c0-18.754-10.388-35.074-25.721-43.577z"/>
                    </svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="pagenation_area" style="display: none;">
          <div class="pagenation">
            <a href=""><i class="ic ic_carousel_left_white"></i></a>
            <!-- <th:block th:each="i:${#numbers.sequence(ph.startPage, ph.endPage)}"> -->
            <ul class="pagenation_num">
              <li class="present"><a href="">1</a></li>
              <li><a href="">2</a></li>
              <li><a href="">3</a></li>
              <li><a href="">4</a></li>
              <li><a href="">5</a></li>
              <li><a href="">6</a></li>
              <li><a href="">7</a></li>
              <li><a href="">8</a></li>
              <li><a href="">9</a></li>
              <li><a href="">10</a></li>
            </ul>
            <!-- </th:block> -->
            <a href=""><i class="ic ic_carousel_right_white"></i></a>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- 원본 이미지 뷰 영역 -->
  <div class="modal" id="imageModal">
    <img src="" id="fullImage"/>
  </div>

  <div class="modal_overlay" id="modalOverlay">
    <div class="delivery_modal">
      <p class="modal_title">
        <span>매장별 재고 및 도서위치</span>
        <svg
                id="closeModal"
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 16 16"
                fill="none"
                stroke="#1D1D1D"
                stroke-width="1.3"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="close_btn">
          <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/>
        </svg>
      </p>
      <div class="modal_content">
        <p> 서울 </p>
        <table class="store_stock_table">
          <tr>
            <th>강남</th>
            <th>노원</th>
            <th>상봉</th>
            <th>송파</th>
            <th>신촌</th>
          </tr>
          <tr>
            <td class="td_stock" data-osno="1">0</td>
            <td class="td_stock" data-osno="4">0</td>
            <td class="td_stock" data-osno="5">0</td>
            <td class="td_stock" data-osno="6">0</td>
            <td class="td_stock" data-osno="3">0</td>
          </tr>
          <tr>
            <th>종로</th>
            <th>이젠IT</th>
          </tr>
          <tr>
            <td class="td_stock" data-osno="2">0</td>
            <td class="td_stock" data-osno="19">0</td>
          </tr>
        </table>

        <p> 수도권 </p>
        <table class="store_stock_table">
          <tr>
            <th>구리</th>
            <th>김포</th>
            <th>성남모란</th>
            <th>성남분당</th>
            <th>안산</th>
          </tr>
          <tr>
            <td class="td_stock" data-osno="10">0</td>
            <td class="td_stock" data-osno="15">0</td>
            <td class="td_stock" data-osno="14">0</td>
            <td class="td_stock" data-osno="13">0</td>
            <td class="td_stock" data-osno="12">0</td>
          </tr>
          <tr>
            <th>안양</th>
            <th>의정부</th>
            <th>일산</th>
            <th>인천직영</th>
            <th>하남미사</th>
          </tr>
          <tr>
            <td class="td_stock" data-osno="8">0</td>
            <td class="td_stock" data-osno="9">0</td>
            <td class="td_stock" data-osno="11">0</td>
            <td class="td_stock" data-osno="7">0</td>
            <td class="td_stock" data-osno="16">0</td>
          </tr>
        </table>
        <p> 수도권 외 </p>
        <table class="store_stock_table">
          <tr>
            <th>전주</th>
            <th>천안</th>
          </tr>
          <tr>
            <td class="td_stock" data-osno="18">0</td>
            <td class="td_stock" data-osno="17">0</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <!--/* 리뷰 화면 작업 아직 안됨 일단 기능만 있는 장식으로 넣어둠!! */-->
  <!--/* 주문 내역 페이지에 모달창으로써 들어갈 부분이에요. 우선 여기에 적어둠! */-->
  <h3>리뷰 화면 작업 아직 안됨 일단 기능만 있는 장식으로 넣어둠!!</h3>
  <h3>주문 내역 페이지에 모달창으로써 들어갈 부분이에요. 우선 여기에 적어둠!</h3>
  리뷰 내용 >> <input type="text" name="content" id="contentEl"> <br>
  별점 >> <input type="text" name="rating" id="ratingEl"> <br>
  파일 첨부 >> <input type="file" name="file" id="fileEl"> <br>
  <!--/* 나중에 주문확인 페이지에서 리뷰 입력 모달 창을 열 때 같이 넘어가야할 정보 : prno, mno */-->
  <input type="hidden" name="prno" id="prnoEl" th:value="${productVO.prno}">
  <input type="hidden" name="mno" id="mnoEl" value=1><br>
  <button type="button" id="regBtn">리뷰 등록하기</button>

  <!--/* 리뷰 출력 라인*/-->
  <div id="reviewBox">리뷰가 없다면 출력됩니다. ex) 리뷰가 없습니다!</div>

  <!--/* 리뷰 페이지네이션 */-->
  <div id="pagingBox">페이지네이션 출력될 박스!</div>
  <!--/* 여기까진 수정될 HTML 조각 */-->

  <div class="prod_purchase_wrap">
    <div class="inner">
      <div class="total_price_area">
        <span>총 상품 금액</span>
        <span class="total_price" id="totalPrice">[[${#numbers.formatInteger(productVO.realPrice, 3, 'COMMA')}]]<span class="won">원</span> </span>
      </div>
      <div class="prod_purchase_btn_area">
        <div class="prod_count_btn_wrap"> <!-- +, - 버튼 -->
          <button type="button" class="btn minus_btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#555" stroke="#555"
                 stroke-width="1.5" class="bi bi-dash-lg" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8"/>
            </svg>
          </button>
          <span id="number">1</span>
          <button type="button" class="btn plus_btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#555" stroke="#555"
                 stroke-width="1.5" class="bi bi-plus-lg" viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                    d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
            </svg>
          </button>
        </div>

        <!--/* 장바구니 저장 용도로 만든 <input> 엘리먼트. */-->
        <input type="hidden" id="cartMno" th:value="${#authentication.name != 'anonymousUser' ? #authentication.getPrincipal().memberVO.getMno() : '-1'}">
        <button type="button" class="btn shopping_basket_btn">장바구니</button>
        <button type="button" class="btn purchase_btn">바로구매</button>
        <button type="button" class="btn pick_up_btn">바로픽업</button>
      </div>
    </div>
  </div>

  <script th:inline="javascript">
    let realPrice = [[${productVO.realPrice}]];
    let primaryCtgData = [[${ productVO.primaryCtg }]];
    let prnoData = [[${productVO.prno}]];
    let prno = [[${productVO.prno}]];
    let mno = 1;
  </script>
  <!--/* 리뷰 등록 관련 스크립트 */-->
  <script th:src="@{/js/reviewRegister.js}"></script>
  <script th:src="@{/js/reviewDetail.js}"></script>
  <script th:inline="javascript"> printReviewBox([[${productVO.prno}]], 1, mno); </script>
  <script th:src="@{/js/productDetail.js}"></script>
  <script>
    var pages = document.getElementsByClassName('page');

    // 1. 페이지 번호와 z-index 설정
    for (var i = 0; i < pages.length; i++) {
        var page = pages[i];
        if (i % 2 === 0) {
            page.style.zIndex = (pages.length - i);
        }
    }

    // 2. 초기 상태로 2페이지까지 flipped 처리
    document.addEventListener('DOMContentLoaded', function () {
        for (var i = 0; i < pages.length; i++) {
            pages[i].pageNum = i + 1;

            // 1페이지와 2페이지를 기본적으로 flipped
            if (i <= 1) {
                pages[i].classList.add('flipped');
            }

            // 클릭 이벤트 추가
            pages[i].onclick = function () {
                // 1페이지와 2페이지로 돌아가지 않도록 설정
                if (this.pageNum <= 2) return;

                // 6페이지에서 더 이상 넘길 수 없도록 설정
                if (this.pageNum >= pages.length - 1 && !this.classList.contains('flipped')) return;

                if (this.pageNum % 2 === 0) {
                    // 짝수 페이지를 닫기
                    this.classList.remove('flipped');
                    this.previousElementSibling.classList.remove('flipped');
                } else {
                    // 홀수 페이지를 넘기기
                    this.classList.add('flipped');
                    this.nextElementSibling.classList.add('flipped');
                }
            };
        }
    });
  </script>
  <script th:src="@{/js/detailCart.js}"></script> <!--/* 장바구니 용도로 추가한 js파일. */-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
  <script th:src="@{/js/sticker.min.js}"></script>
</main>