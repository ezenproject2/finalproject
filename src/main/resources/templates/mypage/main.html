<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultrag.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
    <title> 이젠문고 </title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="/css/mypageMain.css"/>
</head>

<main layout:fragment="main">
    <div class="myPage_header"></div>
    <div class="myPage_inner inner">
        <div class="myPage_left">
            <a href="" class="myPage_profile">
                <div class="member_profile_photo_area">
                    <div class="member_profile_photo"></div>
                    <i class="ic ic_member_profile_pencil">
                        <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M30.1896 9.74448L24.2556 3.80909C24.0582 3.61172 23.8239 3.45515 23.5661 3.34833C23.3082 3.2415 23.0319 3.18652 22.7528 3.18652C22.4737 3.18652 22.1973 3.2415 21.9395 3.34833C21.6816 3.45515 21.4473 3.61172 21.25 3.80909L4.8729 20.1875C4.67472 20.3841 4.51759 20.6182 4.41066 20.8761C4.30373 21.1339 4.24912 21.4105 4.25001 21.6896V27.625C4.25001 28.1886 4.47389 28.7291 4.87241 29.1276C5.27092 29.5261 5.81143 29.75 6.37501 29.75H12.3104C12.5896 29.7509 12.8661 29.6963 13.124 29.5894C13.3819 29.4824 13.6159 29.3253 13.8125 29.1271L30.1896 12.75C30.387 12.5527 30.5436 12.3184 30.6504 12.0606C30.7572 11.8027 30.8122 11.5264 30.8122 11.2473C30.8122 10.9682 30.7572 10.6918 30.6504 10.4339C30.5436 10.1761 30.387 9.94181 30.1896 9.74448ZM6.81462 21.25L18.0625 10.0021L20.2792 12.2188L9.03126 23.4653L6.81462 21.25ZM6.37501 23.8146L10.1854 27.625H6.37501V23.8146ZM12.75 27.1854L10.5334 24.9688L21.7813 13.7209L23.9979 15.9375L12.75 27.1854ZM25.5 14.4354L19.5646 8.50003L22.7521 5.31253L28.6875 11.2466L25.5 14.4354Z" fill="white"/>
                        </svg>
                    </i>
                </div>
                <div class="member_name">
                    <span><span id="memberName">[[${memberVO.nickName}]]</span>님</span> <span id="memberGrade">[[${gradeVO.level}]]</span>
                </div>
                <div class="member_email"> <span>[[${memberVO.email}]]</span></div>
            </a>

            <div class="myPage_menu">
                <div class="myPage_menu_item">
                    <p class="menu_item_title"><a href="">쇼핑 내역<i class="ic ic_arrow_right"></i></a></p>
                    <p class="menu_item_content"><a th:href="@{/mypage/order-list(mno=${#authentication.getPrincipal().memberVO.getMno()})}">주문/배송목록</a></p> <!--/* 주문 목록을 띄우기 위해 준희가 경로를 추가함. */-->
                    <p class="menu_item_content"><a href="">선물함</a></p>
                    <p class="menu_item_content"><a href="">매장 구매 내역</a></p>
                    <p class="menu_item_content"><a href="">영수증</a></p>
                </div>
                <div class="myPage_menu_item">
                    <p class="menu_item_title"><a href="">나의 통장<i class="ic ic_arrow_right"></i></a></p>
                    <p class="menu_item_content"><a href="">통합 포인트</a></p>
                    <p class="menu_item_content"><a href="">쿠폰</a></p>
                    <p class="menu_item_content"><a href="">기프트카드</a></p>
                </div>
                <div class="myPage_menu_item">
                    <p class="menu_item_title"><a href="">회원정보<i class="ic ic_arrow_right"></i></a></p>
                    <p class="menu_item_content"><a th:href="@{/mypage/address-list(mno=${#authentication.getPrincipal().memberVO.getMno()})}">배송주소록</a></p>
                    <p class="menu_item_content"><a href="">회원정보관리</a></p>
                    <p class="menu_item_content"><a href="">나의 회원등급</a></p>
                </div>
                <div class="myPage_menu_item">
                    <p class="menu_item_title"><a href="">고객센터<i class="ic ic_arrow_right"></i></a></p>
                    <p class="menu_item_content"><a href="/mypage/inquiry">1:1 문의 내역</a></p>
                    <p class="menu_item_content"><a href="">업체배송 문의내역</a></p>
                </div>
                <div class="myPage_menu_item item_last">
                    <p class="menu_item_title"><a href="">도움이 필요하세요?</a></p>
                    <p class="menu_item_content"><a href="">FAQ</a></p>
                    <p class="menu_item_content"><a href="">1:1 고객 상담</a></p>
                </div>
            </div>
        </div>
        <div class="myPage_right">
            <div class="myPage_banner">
                <div class="myPage_banner_header">
                    <div class="switch-btn">
                        <div class="circle"></div>
                        <div class="label left">추천</div>
                        <div class="label right">알림</div>
                    </div>

                    <div class="carousel_icon">
                        <i class="ic ic_left">
                            <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="0.5" y="0.5" width="47" height="47" rx="23.5" fill="rgba(255, 255, 255, 0.3)"/>
                                <rect x="0.5" y="0.5" width="47" height="47" rx="23.5" stroke="rgba(255, 255, 255, 0.3)"/>
                                <path d="M27.8125 15.25L18.1875 24L27.8125 32.75" stroke="#555" stroke-width="1.8" stroke-linecap="round"/>
                                <path d="M27.8125 15.25L18.1875 24L27.8125 32.75" stroke="#555" stroke-opacity="1" stroke-width="1.8" stroke-linecap="round"/>
                                <path d="M27.8125 15.25L18.1875 24L27.8125 32.75" stroke="#555" stroke-opacity="1" stroke-width="1.8" stroke-linecap="round"/>
                            </svg>
                        </i>
                        <i class="ic ic_right">
                            <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="0.5" y="0.5" width="47" height="47" rx="23.5" fill="rgba(255, 255, 255, 0.3)"/>
                                <rect x="0.5" y="0.5" width="47" height="47" rx="23.5" stroke="rgba(255, 255, 255, 0.3)"/>
                                <path d="M20.1875 32.75L29.8125 24L20.1875 15.25" stroke="#555" stroke-width="1.8" stroke-linecap="round"/>
                                <path d="M20.1875 32.75L29.8125 24L20.1875 15.25" stroke="#555" stroke-opacity="1" stroke-width="1.8" stroke-linecap="round"/>
                                <path d="M20.1875 32.75L29.8125 24L20.1875 15.25" stroke="#555" stroke-opacity="1" stroke-width="1.8" stroke-linecap="round"/>
                            </svg>
                        </i>
                    </div>
                </div>

                <div class="myPage_banner_main">
                    <div class="banner_slide">
                        <div class="banner_item item1">
                            <div class="item_bage">
                                <span class="newBook">신간추천</span>
                            </div>
                            <div class="banner_book">
                                <div class="banner_book_img item1-img"></div>
                                <div class="banner_book_intro">
                                    <p class="intro1">1건의 신간이 출간되었어요.</p>
                                    <p class="intro2">[쉬다이닝] Human Acts</p>
                                </div>
                            </div>
                        </div>
                        <div class="banner_item item2">
                            <div class="item_bage">
                                <span class="recommendMd">MD추천</span>
                            </div>
                            <div class="banner_book">
                                <div class="banner_book_img item2-img"></div>
                                <div class="banner_book_intro">
                                    <p class="intro1">1건의 신간이 출간되었어요.</p>
                                    <p class="intro2">일인칭 단수</p>
                                </div>
                            </div>
                        </div>
                        <div class="banner_item item3">
                            <div class="item_bage">
                                <span class="recommendMd">MD추천</span>
                            </div>
                            <div class="banner_book">
                                <div class="banner_book_img item3-img"></div>
                                <div class="banner_book_intro">
                                    <p class="intro1">1건의 신간이 출간되었어요.</p>
                                    <p class="intro2">유시민의 항소이유서</p>
                                </div>
                            </div>
                        </div>
                        <div class="banner_item item4">
                            <div class="item_bage">
                                <span class="recommendMd">MD추천</span>
                            </div>
                            <div class="banner_book">
                                <div class="banner_book_img item4-img"></div>
                                <div class="banner_book_intro">
                                    <p class="intro1">1건의 신간이 출간되었어요.</p>
                                    <p class="intro2">이기적 유전자</p>
                                </div>
                            </div>
                        </div>
                        <div class="banner_item item5">
                            <div class="item_bage">
                                <span class="recommendMd">MD추천</span>
                            </div>
                            <div class="banner_book">
                                <div class="banner_book_img item5-img"></div>
                                <div class="banner_book_intro">
                                    <p class="intro1">1건의 신간이 출간되었어요.</p>
                                    <p class="intro2">코스모스</p>
                                </div>
                            </div>
                        </div>
                        <div class="banner_item item6">
                            <div class="item_bage">
                                <span class="recommendMd">MD추천</span>
                            </div>
                            <div class="banner_book">
                                <div class="banner_book_img item6-img"></div>
                                <div class="banner_book_intro">
                                    <p class="intro1">1건의 신간이 출간되었어요.</p>
                                    <p class="intro2">진격의 거인</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="direct_banner">
                <div class="direct_banner_item">
                    <p class="direct_banner_item_header">
                        <i class="ic ic_box"></i>
                        <span class="direct_banner_text">진행중인 주문</span>
                    </p>
                    <p class="direct_banner_item_content"><strong>0</strong> 건</p>
                </div>
                <div class="direct_banner_item">
                    <p class="direct_banner_item_header">
                        <a th:href="@{/mypage/coupon}"><i class="ic ic_coupon"></i></a>
                        <span class="direct_banner_text">쿠폰</span>
                    </p>
                    <p class="direct_banner_item_content"><strong>[[${coupons.size()}]]</strong> 장</p>
                </div>
                <div class="direct_banner_item">
                    <p class="direct_banner_item_header">
                        <i class="ic ic_point"></i>
                        <span class="direct_banner_text">포인트</span>
                    </p>
                    <p class="direct_banner_item_content"><strong>[[${pointsBalance}]]</strong> 원</p>
                </div>
                <div class="direct_banner_item">
                    <p class="direct_banner_item_header">
                        <i class="ic ic_gift_card"></i>
                        <span class="direct_banner_text">기프트카드</span>
                    </p>
                    <p class="direct_banner_item_content"><strong>0</strong> 장</p>
                </div>
            </div>

            <div class="my_library">
                <p class="my_library_title"><span>나의 서재</span> <a href=""><i class="ic ic_arrow_right"></i></a></p>

                <!-- 책 선반 반복, book_shelf 안에 책(figure class='book')이 최대 3권만 들어감!! -->
                <!-- 컨트롤러 예시
                for (int i = 0; i < books.size(); i += 3) {
                    bookShelves.add(books.subList(i, Math.min(i + 3, books.size())));
                }-->
                <div class="book_shelf" th:each="book : ${books}">//th:each="shelf : ${bookShelves}"
                    <!-- 사용자가 책을 한 권도 구매하지 않았을 경우 -->
                    <div class="book_none"  th:if="${#lists.size(bookShelves) == 0}">
                        <span class="book_none_title">좋아하는 책들로 나만의 서재를 만들어보세요!</span>
                        <span class="book_none_content">지금 바로 시작해볼까요?</span>
                        <a href="" class="btn">
                            추천 도서 보러 가기 &#8594;
                        </a>
                    </div>

                    <!-- 책 리스트 -->
                    <!-- 사용자가 책을 한 권 이상 구매한 경우 -->
                    <div class="book_list" th:if="${books.size() > 0}" style="display:none;">
                        <figure class='book'>
                            <!-- Front -->
                            <ul class='hardcover_front'>
                                <li>
                                    <div class="coverDesign">
                                        <img src="https://cdn.ypbooks.co.kr/image/product/202410/06f4de7c-b904-4e43-b64f-5c7e20c459df.jpg" alt="">
                                        <div class="effect"></div>
                                        <div class="light"></div>
                                    </div>
                                </li>
                                <li></li>
                            </ul>

                            <!-- Pages -->
                            <ul class='page'>
                                <li></li>
                                <li>
                                    <div class="page_btn">
                                        <a class="btn book_btn1" href="#">주문 내역 보기 &#8594</a>
                                        <a class="btn book_btn2" href="#">책 상세 보기 &#8594</a>
                                    </div>
                                </li>
                                <li></li>
                                <li></li>
                                <li></li>
                            </ul>

                            <!-- Back -->
                            <ul class='hardcover_back'>
                                <li></li>
                                <li></li>
                            </ul>
                        </figure>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer_book">
        <a class="shelf">
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>

            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
            <div class="book1"></div>
        </a>
        </a>
    </div>

    <script src="/js/mypageMain.js"></script>
</main>